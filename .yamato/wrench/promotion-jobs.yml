# Auto-generated by Recipe Engine, do not modify manually.
# This job is generated by the wrench recipe engine module, see find the docs here: http://Go/ii2fb

# Trigger for mobile.notifications Custom Checks
mobile_notifications_custom_checks:
  name: mobile.notifications Custom Checks
  dependencies:
  - path: .yamato/upm-ci.yml#test_trigger
  triggers:
    expression: push.branch match "^release/.*"
    cancel_old_ci: true
  metadata:
    Job Maintainers: '#release-management'

# Publish Dry Run  for mobile.notifications to https://artifactory-slo.bf.unity3d.com/artifactory/api/npm/upm-npm
publish_dry_run_mobile_notifications:
  name: Publish Dry Run mobile.notifications
  agent:
    image: package-ci/ubuntu-20.04:default
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: curl https://artifactory.prd.it.unity3d.com/artifactory/stevedore-unity-internal/wrench-localapv/1-2-54_4ed3929f39f0279ecefec81a437d0eb42e21a4f9c6469a88d31e8f3d764709fe.zip -o wrench-localapv.zip
  - command: 7z x -aoa wrench-localapv.zip
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/print_machine_info.py
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/report_valid_editors.py
  - command: python PythonScripts/ignore_existing_package_failure.py
  - command: python PythonScripts/run_publish_if_any_package_left.py --dry-run
  after:
  - command: curl -s https://artifactory-slo.bf.unity3d.com/artifactory/automation-and-tooling/infrastructure-instability-detection/standalone/setup/run_standalone_instability_detection-latest.sh --output run_standalone_instability_detection-latest.sh --retry 5 || exit 0
  - command: bash ./run_standalone_instability_detection-latest.sh ubuntu 0.5.0 || exit 0
    timeout: 10
    retries: 1
  artifacts:
    logs:
      paths:
      - results/UTR/**/*
      browsable: onNonSuccess
  dependencies:
  - path: .yamato/wrench/package-pack-jobs.yml#package_pack_-_mobile_notifications
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-windows
        unzip: true
  variables:
    UPMPVP_ACK_UPMPVP_DOES_NO_API_VALIDATION: 1
    UPMPVP_CONTEXT_WRENCH: 0.10.32.0
  triggers:
    expression: push.branch match "^release/.*"
    cancel_old_ci: true
  metadata:
    Job Maintainers: '#rm-packageworks'
    Wrench: 0.10.32.0

# Publish  for mobile.notifications to https://artifactory-slo.bf.unity3d.com/artifactory/api/npm/upm-npm
publish_mobile_notifications:
  name: Publish mobile.notifications
  agent:
    image: package-ci/ubuntu-20.04:default
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: curl https://artifactory.prd.it.unity3d.com/artifactory/stevedore-unity-internal/wrench-localapv/1-2-54_4ed3929f39f0279ecefec81a437d0eb42e21a4f9c6469a88d31e8f3d764709fe.zip -o wrench-localapv.zip
  - command: 7z x -aoa wrench-localapv.zip
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/print_machine_info.py
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/report_valid_editors.py
  - command: python PythonScripts/ignore_existing_package_failure.py
  - command: python PythonScripts/run_publish_if_any_package_left.py
  after:
  - command: curl -s https://artifactory-slo.bf.unity3d.com/artifactory/automation-and-tooling/infrastructure-instability-detection/standalone/setup/run_standalone_instability_detection-latest.sh --output run_standalone_instability_detection-latest.sh --retry 5 || exit 0
  - command: bash ./run_standalone_instability_detection-latest.sh ubuntu 0.5.0 || exit 0
    timeout: 10
    retries: 1
  artifacts:
    logs:
      paths:
      - results/UTR/**/*
      browsable: onNonSuccess
  dependencies:
  - path: .yamato/wrench/package-pack-jobs.yml#package_pack_-_mobile_notifications
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2021_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2021.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2021.3-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_2022_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-2022.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-2022.3-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_0_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.0-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.0-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_2_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.2-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.2-windows
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_macos
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-macos
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-macos
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_ubuntu
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-ubuntu
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-ubuntu
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_mobile_notifications_-_6000_3_-_windows
    specific_options:
      UTR:
        location: results/UTR/validate-mobile.notifications-6000.3-windows
        unzip: true
      pvp-results:
        location: results/pvp/validate-mobile.notifications-6000.3-windows
        unzip: true
  variables:
    UPMPVP_ACK_UPMPVP_DOES_NO_API_VALIDATION: 1
    UPMPVP_CONTEXT_WRENCH: 0.10.32.0
  metadata:
    Job Maintainers: '#rm-packageworks'
    Wrench: 0.10.32.0

